{
  "version": 3,
  "sources": ["../../../../../src/cli/lib/deployApi/checkedComponent.ts"],
  "sourcesContent": ["import { z } from \"zod\";\nimport {\n  componentDefinitionPath,\n  componentFunctionPath,\n  ComponentDefinitionPath,\n  ComponentPath,\n  componentPath,\n} from \"./paths.js\";\nimport { Identifier, identifier } from \"./types.js\";\n\nexport const resource = z.union([\n  z.object({ type: z.literal(\"value\"), value: z.string() }),\n  z.object({ type: z.literal(\"function\"), path: componentFunctionPath }),\n]);\nexport type Resource = z.infer<typeof resource>;\n\nexport type CheckedExport =\n  | { type: \"branch\"; children: Record<Identifier, CheckedExport> }\n  | { type: \"leaf\"; resource: Resource };\nexport const checkedExport: z.ZodType<CheckedExport> = z.lazy(() =>\n  z.union([\n    z.object({\n      type: z.literal(\"branch\"),\n      children: z.record(identifier, checkedExport),\n    }),\n    z.object({\n      type: z.literal(\"leaf\"),\n      resource,\n    }),\n  ]),\n);\n\nexport const checkedHttpRoutes = z.object({\n  routerPrefix: z.array(z.tuple([z.string(), z.string()])),\n  routerExact: z.array(z.tuple([z.string(), z.string()])),\n  mountedPrefix: z.array(z.string()),\n});\nexport type CheckedHttpRoutes = z.infer<typeof checkedHttpRoutes>;\n\nexport type CheckedComponent = {\n  definitionPath: ComponentDefinitionPath;\n  componentPath: ComponentPath;\n  args: Record<Identifier, Resource>;\n  childComponents: Record<Identifier, CheckedComponent>;\n};\nexport const checkedComponent: z.ZodType<CheckedComponent> = z.lazy(() =>\n  z.object({\n    definitionPath: componentDefinitionPath,\n    componentPath,\n    args: z.record(identifier, resource),\n    childComponents: z.record(identifier, checkedComponent),\n    httpRoutes: checkedHttpRoutes,\n    exports: z.record(identifier, checkedExport),\n  }),\n);\n"],
  "mappings": ";AAAA,SAAS,SAAS;AAClB;AAAA,EACE;AAAA,EACA;AAAA,EAGA;AAAA,OACK;AACP,SAAqB,kBAAkB;AAEhC,aAAM,WAAW,EAAE,MAAM;AAAA,EAC9B,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,OAAO,GAAG,OAAO,EAAE,OAAO,EAAE,CAAC;AAAA,EACxD,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,UAAU,GAAG,MAAM,sBAAsB,CAAC;AACvE,CAAC;AAMM,aAAM,gBAA0C,EAAE;AAAA,EAAK,MAC5D,EAAE,MAAM;AAAA,IACN,EAAE,OAAO;AAAA,MACP,MAAM,EAAE,QAAQ,QAAQ;AAAA,MACxB,UAAU,EAAE,OAAO,YAAY,aAAa;AAAA,IAC9C,CAAC;AAAA,IACD,EAAE,OAAO;AAAA,MACP,MAAM,EAAE,QAAQ,MAAM;AAAA,MACtB;AAAA,IACF,CAAC;AAAA,EACH,CAAC;AACH;AAEO,aAAM,oBAAoB,EAAE,OAAO;AAAA,EACxC,cAAc,EAAE,MAAM,EAAE,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;AAAA,EACvD,aAAa,EAAE,MAAM,EAAE,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE,OAAO,CAAC,CAAC,CAAC;AAAA,EACtD,eAAe,EAAE,MAAM,EAAE,OAAO,CAAC;AACnC,CAAC;AASM,aAAM,mBAAgD,EAAE;AAAA,EAAK,MAClE,EAAE,OAAO;AAAA,IACP,gBAAgB;AAAA,IAChB;AAAA,IACA,MAAM,EAAE,OAAO,YAAY,QAAQ;AAAA,IACnC,iBAAiB,EAAE,OAAO,YAAY,gBAAgB;AAAA,IACtD,YAAY;AAAA,IACZ,SAAS,EAAE,OAAO,YAAY,aAAa;AAAA,EAC7C,CAAC;AACH;",
  "names": []
}
